<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>BENE Wedding – Gallery</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css?family=Sarabun&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:Sarabun,sans-serif;
  background:#f5efe6;
  color:#7a5c42;
}

h1{
  text-align:center;
  margin:20px 0;
}

.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:16px;
  padding:20px;
}

.card{
  background:#fff;
  border-radius:14px;
  padding:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.15);
}

.card img{
  width:100%;
  border-radius:10px;
}

.time{
  font-size:13px;
  margin:6px 0;
  opacity:.7;
}

.actions{
  display:flex;
  gap:6px;
}

button{
  flex:1;
  padding:6px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-size:14px;
}

.download{ background:#7a5c42; color:#fff; }
.delete{ background:#bbb; }

.footer{
  text-align:center;
  margin:20px 0;
  font-size:14px;
  opacity:.6;
}
</style>
</head>
<body>

<h1>คลังคำอวยพร</h1>

<div class="gallery" id="gallery"></div>

<div class="footer">By BENE Wedding Project</div>

<script>
const galleryEl = document.getElementById("gallery");
let data = JSON.parse(localStorage.getItem("weddingGallery") || "[]");

function render(){
  galleryEl.innerHTML = "";

  if(data.length === 0){
    galleryEl.innerHTML = "<p style='grid-column:1/-1;text-align:center;'>ยังไม่มีลายเซ็น</p>";
    return;
  }

  data.forEach((item,index)=>{
    const div = document.createElement("div");
    div.className = "card";

    div.innerHTML = `
      <img src="${item.img}">
      <div class="time">${item.time}</div>
      <div class="actions">
        <button class="download" onclick="download(${index})">ดาวน์โหลด</button>
        <button class="delete" onclick="removeItem(${index})">ลบ</button>
      </div>
    `;
    galleryEl.appendChild(div);
  });
}

function download(i){
  const a = document.createElement("a");
  a.href = data[i].img;
  a.download = `BENE_signature_${i+1}.png`;
  a.click();
}

function removeItem(i){
  if(!confirm("ลบลายเซ็นนี้?")) return;
  data.splice(i,1);
  localStorage.setItem("weddingGallery",JSON.stringify(data));
  render();
}

render();
</script>

</body>
</html>
