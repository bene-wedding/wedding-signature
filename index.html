<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>BENE Wedding ‚Äì Write</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css?family=Sarabun&display=swap" rel="stylesheet">

<style>
body{
  font-family:Sarabun,sans-serif;
  background:#fafafa;
  text-align:center;
  margin:0;
}
h1{ margin:16px 0 4px; }

.canvas-wrap{
  display:flex;
  justify-content:center;
}

canvas{
  border:2px solid #000;
  background:#fff;
  touch-action:none;
  cursor:crosshair;
}

.controls{ margin:10px 0; }
button,select{
  font-size:16px;
  padding:6px 12px;
  margin:4px;
}
</style>
</head>
<body>

<h1>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡πÉ‡∏´‡πâ‡∏ö‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏ß</h1>
<p>‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏≤‡∏™‡πå / ‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤ / ‡∏ô‡∏¥‡πâ‡∏ß</p>

<div class="canvas-wrap">
  <canvas id="canvas" width="900" height="600"></canvas>
</div>

<div class="controls">
  ‡∏™‡∏µ:
  <select id="color">
    <option value="black">‡∏î‡∏≥</option>
    <option value="blue" selected>‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô</option>
    <option value="red">‡πÅ‡∏î‡∏á</option>
    <option value="green">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</option>
  </select>

  ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤:
  <select id="width">
    <option value="6">6</option>
    <option value="8" selected>8</option>
    <option value="12">12</option>
  </select>
</div>

<div class="controls">
  <button onclick="clearCanvas()">‡∏•‡πâ‡∏≤‡∏á</button>
  <button onclick="saveCanvas()">‡∏™‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≠</button>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const colorEl = document.getElementById("color");
const widthEl = document.getElementById("width");

let drawing = false;
let lastX = 0;
let lastY = 0;

/* ===== ‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏à‡∏£‡∏¥‡∏á ===== */
function getPos(e){
  const rect = canvas.getBoundingClientRect();
  return {
    x: (e.clientX - rect.left) * canvas.width / rect.width,
    y: (e.clientY - rect.top) * canvas.height / rect.height
  };
}

/* ===== START ===== */
canvas.addEventListener("pointerdown", e => {
  e.preventDefault();
  drawing = true;
  const pos = getPos(e);
  lastX = pos.x;
  lastY = pos.y;

  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
});

/* ===== MOVE ===== */
canvas.addEventListener("pointermove", e => {
  if (!drawing) return;
  e.preventDefault();

  const pos = getPos(e);

  ctx.strokeStyle = colorEl.value;
  ctx.lineWidth = widthEl.value;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";

  ctx.lineTo(pos.x, pos.y);
  ctx.stroke();

  lastX = pos.x;
  lastY = pos.y;
});

/* ===== END ===== */
["pointerup","pointercancel","pointerleave"].forEach(ev=>{
  canvas.addEventListener(ev, ()=> drawing=false);
});

/* ===== CLEAR ===== */
function clearCanvas(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
}

/* ===== SAVE (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ú‡∏π‡∏Å Supabase) ===== */
function saveCanvas(){
  alert("‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß üéâ ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Ñ‡πà‡∏≠‡∏¢‡∏ú‡∏π‡∏Å Supabase");
}
</script>

</body>
</html>
